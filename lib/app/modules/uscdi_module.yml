name: uscdi
description: |

  Describe any requirements of the program.  Duis mollis congue hendrerit. Curabitur fringilla,
  mauris lacinia tincidunt condimentum, lectus erat hendrerit est, ut vehicula metus arcu quis tellus. Nunc molestie
  tempor quam, sed sodales neque facilisis non. Donec vehicula dui quis egestas suscipit. Fusce a placerat elit.

  Note that this is a concept based on Argonaut and does not reflect actual program requirements.

  For example:

  * EHR and Standalone Launches
  * Confidential OR Public clients
  * OpenID Connect single sign on
  * Resources
  * Argonaut Data Queries

  Descibe how to get started:

  * click this button

fhir_version: dstu2
default_test_set: guided
test_sets:
  guided:
    view: guided
    tests:
      - name: Discovery and Registration
        overview: |
          Servers must provide the ability to register Inferno as a SMART on FHIR application.  This set of tests provides the tester with
          registration information to be entered into the system under test.  Once registered, the tester should be provided
          a *Client ID*, and optionally a *Client Secret*, to enter into Inferno.  This set of tests also requires the server to demonstrate
          the ability to provide required service metatdata through the discovery endpoints, including OAuth endpoints,
          supported resources and searches.
        input_instructions: |
          Register Inferno as a SMART on FHIR app with the following *Launch URI* and *Redirect URI*.  You may either register the app as 
          a confidential client or a public client.  Enter in the *Client ID*, and the *Client Secret* if applicable, from the system.
        sequences:
          - sequence: ManualRegistrationSequence
            title: Manual App Registration
          - ArgonautConformanceSequence
          - SMARTDiscoverySequence
      - name: Standalone Patient App Launch
        overview: |
          Demonstrate the ability to support launching SMART on FHIR apps that are authorized to access a single patient using the standalone launch sequence.
        sequences:
          - sequence: StandaloneLaunchSequence
            title: Standalone Launch with Patient Scope
            description: Perform SMART launch sequence.  Patient, OpenID Connect and Token Refresh scopes required.
          - sequence: ArgonautPatientReadOnlySequence
            title: Read Patient Resource
            description: Demonstrate successful authorization by reading Patient resource.
      - name: EHR Practitioner App Launch
        overview: >
          Demonstrate the ability for an external launch with a user-level scope that is capable of accessing multiple patients.  This test requires the system to
          access multiple patient endpoints to demonstrate that a 3rd party app can interact with multiple patients without requiring re-authentication.
          Note that this is not the same as the Population-level API, which requires the ability for transfering much larger quantities of data in a more efficient manner.
        sequences:
          - EHRLaunchSequence
          - sequence: ArgonautReadTwoPatientsSequence
            title: Read two separate patient records
            description: Demonstrate that two distinct Patient resources can be retrieved.
      - name: OpenID Connect (SSO)
        overview: >
          Demonstrate OpenID Connect
        sequences:
          - sequence: OpenIDConnectSequence
            title: Single Sign on using OpenID Connect
            description: Use OpenID Connect ID token provided during launch sequence to authenticate user.
      - name: Token Refresh Sequence
        overview: >
          Demonstrate Token Refresh Sequence
        sequences:
          - TokenRefreshSequence
          - sequence: ArgonautPatientSequence
            title: Read Patient Resource Using New Token
            description: Ensure new token is functional by performing a simple read of the Patient resource.
      - name: USCDI Access
        run_all: true
        overview: >
          Description of USCDI Data access.
        sequences:
          - ArgonautPatientSequence
          - ArgonautAllergyIntoleranceSequence
          - ArgonautCarePlanSequence
          - ArgonautCareTeamSequence
          - ArgonautConditionSequence
          - ArgonautDeviceSequence
          - ArgonautDiagnosticReportSequence
          - ArgonautObservationSequence
          - ArgonautGoalSequence
          - ArgonautImmunizationSequence
          - ArgonautMedicationStatementSequence
          - ArgonautMedicationOrderSequence
          - ArgonautProcedureSequence
          - ArgonautSmokingStatusSequence
          - ArgonautVitalSignsSequence
          - DocumentReferenceSequence
          - ProvenanceSequence
  ad_hoc:
    view: default
    tests:
      - name: Discovery
        overview: >
          This is an overview of the Discovery group
        sequences:
          - ArgonautConformanceSequence
          - SMARTDiscoverySequence
        run_all: false
      - name: Authorization and Authentication
        overview: >
          This an overview of the Authentication
        sequences:
          - DynamicRegistrationSequence
          - ManualRegistrationSequence
          - StandaloneLaunchSequence
          - EHRLaunchSequence
          - OpenIDConnectSequence
          - TokenRefreshSequence
      - name: Argonaut Data Query Implementation Guide
        overview: >
          This an overview of the Argonaut Data Query Implementation Guide
        sequences:
          - ArgonautPatientSequence
          - ArgonautAllergyIntoleranceSequence
          - ArgonautCarePlanSequence
          - ArgonautCareTeamSequence
          - ArgonautConditionSequence
          - ArgonautDeviceSequence
          - ArgonautDiagnosticReportSequence
          - ArgonautObservationSequence
          - ArgonautGoalSequence
          - ArgonautImmunizationSequence
          - ArgonautMedicationStatementSequence
          - ArgonautMedicationOrderSequence
          - ArgonautProcedureSequence
          - ArgonautSmokingStatusSequence
          - ArgonautVitalSignsSequence
        run_all: true
      - name: Additional USCDI Resources
        overview: >
          This is an overview of additional resources
        sequences:
          - DocumentReferenceSequence
          - ProvenanceSequence
        run_all: true
