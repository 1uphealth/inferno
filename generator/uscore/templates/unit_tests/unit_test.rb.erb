# frozen_string_literal: true

# NOTE: This is a generated file. Any changes made to this file will be
#       overwritten when it is regenerated

require_relative '../../../../test/test_helper'

describe Inferno::Sequence::<%= class_name %> do
  before do
    @sequence_class = Inferno::Sequence::<%= class_name %>
    @base_url = 'http://www.example.com/fhir'
    @client = FHIR::Client.new(@base_url)
    @token = 'ABC'
    @instance = Inferno::Models::TestingInstance.create(token: @token)
    @patient_id = '123'
    @instance.patient_id = @patient_id
    @module = OpenStruct.new(resources_to_test: Set.new(['<%= resource_type %>']))
    @instance.instance_variable_set(:'@module', @module)
    set_resource_support(@instance, '<%= resource_type %>')
    @auth_header = { 'Authorization' => "Bearer #{@token}" }
  end

<% tests.each do |test| %>
  <%= test %>
<% end %>

end
